---
pagination:
  data: collections
  size: 1
  alias: tag
  filter:
    - all
    - posts
    - featuredPosts
permalink: /writing/tag/{{ tag }}/
layout: layouts/base.njk
---
<header><a href="/">home</a> / <a href="/writing">writing</a> / tag / {{ tag }}</header>
<h1><span>Tag: {{ tag }}</span></h1>
<div>
    {%- set currentYear = null %}
    {%- set firstYear = true %}
    {%- for post in collections[tag] | reverse %}
        {%- set postYear = post.date | year %}
        {%- if postYear != currentYear %}
            {%- if currentYear != null %}
    </ul>
            {%- endif %}
            {%- if firstYear %}
    <h4 class="year-heading first-year">{{ postYear }}</h4>
                {%- set firstYear = false %}
            {%- else %}
    <h4 class="year-heading">{{ postYear }}</h4>
            {%- endif %}
    <ul>
            {%- set currentYear = postYear %}
        {%- endif %}
        <li>{{ post.date | dateFormatShort }} :: <a href="{{ post.url }}" class="post-link" data-description="{{ post.data.description | escape }}">{{ post.data.title }}</a>{% if post.data.featured %} <span class="featured-star">â˜…</span>{% endif %}</li>
    {%- endfor %}
    </ul>
</div>
{% include "footer.njk" %}
